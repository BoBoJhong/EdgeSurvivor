# 物件設計文件
## Object Design Document (ODD)

**專案名稱**: EdgeSurvivor (邊緣人神器)  
**版本**: 1.0  
**文件日期**: 2025年10月14日  
**作者**: 開發團隊  

---

## 目錄

1. [物件模型概述](#1-物件模型概述)
2. [資料模型設計](#2-資料模型設計)
3. [類別設計](#3-類別設計)
4. [資料庫Schema](#4-資料庫schema)
5. [API物件規格](#5-api物件規格)

---

## 1. 物件模型概述

### 1.1 領域模型

EdgeSurvivor 系統的核心領域物件包括:

\\\
User (使用者)
   擁有多個 Activity (活動創建者)
   參與多個 Activity (透過 ActivityParticipant)
   擁有多個 Match (媒合關係)
   發送多個 ChatMessage (聊天訊息)

Activity (活動)
   屬於一個 User (創建者)
   有多個 ActivityParticipant (參與者)
   有多個 ActivityDiscussion (討論串)
   有多個 Expense (費用記錄)

Match (媒合)
   連結兩個 User
   可能關聯一個 Activity
   有多個 ChatMessage

Expense (費用)
   屬於一個 Activity
   由一個 User 付款
   用於費用分攤計算
\\\

### 1.2 物件關係圖

\\\
                  
   User   1n   Activity   n1    User   
          creates               creator            
                  
                           
     1                     n
                           
     n               
     ActivityParticipants   
                     
     
                     
     ActivityDiscussions    
                     
     
     1               
       Match    
     user_a          
                           1
                           
                           n
                     
       ChatMessage   
     sender           
\\\

---

## 2. 資料模型設計

### 2.1 User (使用者)

**用途**: 表示系統中的註冊使用者

**屬性**:

| 屬性名 | 類型 | 說明 | 約束 |
|-------|------|------|------|
| user_id | Integer | 使用者唯一識別碼 | PK, Auto Increment |
| name | String(100) | 使用者姓名 | NOT NULL |
| email | String(120) | 電子郵件 | NOT NULL, UNIQUE |
| password_hash | String(255) | 密碼雜湊值 | NOT NULL |
| privacy_setting | String(20) | 隱私設定 | DEFAULT 'public' |
| location | String(100) | 所在地區 | NULLABLE |
| profile_picture | String(255) | 頭像URL | NULLABLE |
| bio | Text | 個人簡介 | NULLABLE |
| gender | String(10) | 性別 | NULLABLE |
| age | Integer | 年齡 | NULLABLE |
| interests | Text | 興趣標籤(JSON) | NULLABLE |
| join_date | DateTime | 註冊日期 | DEFAULT NOW() |
| is_verified | Boolean | 是否已驗證 | DEFAULT FALSE |
| is_active | Boolean | 帳號是否啟用 | DEFAULT TRUE |
| last_seen | DateTime | 最後上線時間 | DEFAULT NOW() |

**方法**:
- set_password(password): 設定密碼雜湊
- check_password(password): 驗證密碼
- 	o_dict(include_private=False): 轉換為字典
- update_last_seen(): 更新最後上線時間

**關聯**:
- created_activities: 創建的活動 (1:N)
- matches_as_user_a: 作為申請者的媒合 (1:N)
- matches_as_user_b: 作為接收者的媒合 (1:N)
- sent_messages: 發送的訊息 (1:N)
- ctivity_participations: 參與的活動 (1:N)

**範例**:
\\\python
class User(db.Model):
    __tablename__ = 'users'
    
    user_id = db.Column(db.Integer, primary_key=True)
    name = db.Column(db.String(100), nullable=False)
    email = db.Column(db.String(120), unique=True, nullable=False, index=True)
    password_hash = db.Column(db.String(255), nullable=False)
    interests = db.Column(db.Text)
    
    def set_password(self, password):
        self.password_hash = generate_password_hash(password)
    
    def check_password(self, password):
        return check_password_hash(self.password_hash, password)
    
    def to_dict(self, include_private=False):
        interests_list = []
        if self.interests:
            interests_list = json.loads(self.interests)
        
        data = {
            'user_id': self.user_id,
            'name': self.name,
            'location': self.location,
            'interests': interests_list,
            'avatar': self.profile_picture
        }
        
        if include_private:
            data['email'] = self.email
        
        return data
\\\

---

### 2.2 Activity (活動)

**用途**: 表示旅伴活動

**屬性**:

| 屬性名 | 類型 | 說明 | 約束 |
|-------|------|------|------|
| activity_id | Integer | 活動唯一識別碼 | PK, Auto Increment |
| title | String(200) | 活動標題 | NOT NULL |
| date | Date | 活動日期 | NULLABLE |
| start_time | String(10) | 開始時間 | NULLABLE |
| location | String(200) | 活動地點 | NULLABLE |
| description | Text | 活動描述 | NULLABLE |
| category | String(50) | 活動分類 | NULLABLE |
| max_participants | Integer | 最大參與人數 | NULLABLE |
| cost | Numeric(10,2) | 活動費用 | NULLABLE |
| duration_hours | Integer | 活動時長(小時) | NULLABLE |
| status | String(20) | 活動狀態 | DEFAULT 'open' |
| cover_image | String(255) | 封面圖片URL | NULLABLE |
| images | Text | 相簿圖片(JSON) | NULLABLE |
| is_active | Boolean | 是否啟用 | DEFAULT TRUE |
| creator_id | Integer | 創建者ID | NOT NULL, FK |
| created_at | DateTime | 建立時間 | DEFAULT NOW() |
| updated_at | DateTime | 更新時間 | ON UPDATE NOW() |

**方法**:
- 	o_dict(): 轉換為字典
- dd_participant(user_id): 添加參與者
- emove_participant(user_id): 移除參與者
- get_participants(): 取得參與者列表
- is_creator(user_id): 檢查是否為創建者
- is_participant(user_id): 檢查是否為參與者

**關聯**:
- creator: 創建者 (N:1  User)
- participants: 參與者 (1:N  ActivityParticipant)
- discussions: 討論串 (1:N  ActivityDiscussion)
- expenses: 費用記錄 (1:N  Expense)

**狀態值**:
- open: 開放中
- ongoing: 進行中
- completed: 已完成
- cancelled: 已取消

**分類值**:
- 冒險
- 文化
- 休閒
- 運動
- 美食

---

### 2.3 ActivityParticipant (活動參與者)

**用途**: 表示使用者與活動的參與關係

**屬性**:

| 屬性名 | 類型 | 說明 | 約束 |
|-------|------|------|------|
| participant_id | Integer | 參與記錄ID | PK, Auto Increment |
| activity_id | Integer | 活動ID | NOT NULL, FK |
| user_id | Integer | 使用者ID | NOT NULL, FK |
| status | String(20) | 參與狀態 | DEFAULT 'pending' |
| role | String(20) | 角色 | DEFAULT 'participant' |
| joined_at | DateTime | 加入時間 | DEFAULT NOW() |
| approved_at | DateTime | 批准時間 | NULLABLE |
| left_at | DateTime | 離開時間 | NULLABLE |
| message | Text | 申請訊息 | NULLABLE |
| rejection_reason | Text | 拒絕原因 | NULLABLE |

**唯一約束**: (activity_id, user_id)

**狀態值**:
- pending: 待審核
- pproved: 已批准
- joined: 已加入
- ejected: 已拒絕
- left: 已離開
- emoved: 已移除

**角色值**:
- creator: 創建者
- participant: 參與者

---

### 2.4 ActivityDiscussion (活動討論串)

**用途**: 活動參與者的交流訊息

**屬性**:

| 屬性名 | 類型 | 說明 | 約束 |
|-------|------|------|------|
| discussion_id | Integer | 討論ID | PK, Auto Increment |
| activity_id | Integer | 活動ID | NOT NULL, FK |
| user_id | Integer | 發送者ID | NOT NULL, FK |
| message | Text | 訊息內容 | NOT NULL |
| message_type | String(20) | 訊息類型 | DEFAULT 'text' |
| created_at | DateTime | 建立時間 | DEFAULT NOW() |
| updated_at | DateTime | 更新時間 | ON UPDATE NOW() |
| is_deleted | Boolean | 是否已刪除 | DEFAULT FALSE |

**訊息類型**:
- 	ext: 文字訊息
- image: 圖片訊息
- nnouncement: 系統公告

---

### 2.5 Match (媒合)

**用途**: 表示兩個使用者之間的媒合關係

**屬性**:

| 屬性名 | 類型 | 說明 | 約束 |
|-------|------|------|------|
| match_id | Integer | 媒合ID | PK, Auto Increment |
| activity_id | Integer | 相關活動ID | NULLABLE, FK |
| user_a | Integer | 申請者ID | NOT NULL, FK |
| user_b | Integer | 接收者ID | NOT NULL, FK |
| status | String(20) | 媒合狀態 | DEFAULT 'pending' |
| message | Text | 申請訊息 | NULLABLE |
| match_date | DateTime | 建立時間 | DEFAULT NOW() |
| confirmed_date | DateTime | 確認時間 | NULLABLE |
| cancel_date | DateTime | 取消時間 | NULLABLE |

**方法**:
- 	o_dict(): 轉換為字典
- ccept(): 接受媒合
- eject(): 拒絕媒合
- cancel(): 取消媒合

**狀態值**:
- pending: 待回應
- ccepted: 已接受
- ejected: 已拒絕
- cancelled: 已取消

---

### 2.6 ChatMessage (聊天訊息)

**用途**: 媒合成功後的聊天訊息

**屬性**:

| 屬性名 | 類型 | 說明 | 約束 |
|-------|------|------|------|
| message_id | Integer | 訊息ID | PK, Auto Increment |
| match_id | Integer | 媒合ID | NOT NULL, FK |
| sender_id | Integer | 發送者ID | NOT NULL, FK |
| content | Text | 訊息內容 | NOT NULL |
| timestamp | DateTime | 時間戳 | DEFAULT NOW() |
| message_type | String(20) | 訊息類型 | DEFAULT 'text' |
| status | String(20) | 訊息狀態 | DEFAULT 'sent' |

**訊息類型**:
- 	ext: 文字訊息
- image: 圖片訊息
- ile: 檔案訊息

**狀態值**:
- sent: 已送出
- delivered: 已送達
- ead: 已讀

---

### 2.7 Expense (費用)

**用途**: 活動的費用記錄

**屬性**:

| 屬性名 | 類型 | 說明 | 約束 |
|-------|------|------|------|
| expense_id | Integer | 費用ID | PK, Auto Increment |
| activity_id | Integer | 活動ID | NOT NULL, FK |
| payer_id | Integer | 付款者ID | NOT NULL, FK |
| amount | Numeric(10,2) | 金額 | NOT NULL |
| category | String(50) | 費用類別 | NULLABLE |
| expense_date | Date | 費用日期 | NULLABLE |
| description | Text | 費用描述 | NULLABLE |
| paid | Boolean | 是否已支付 | DEFAULT FALSE |
| created_at | DateTime | 建立時間 | DEFAULT NOW() |

**類別值**:
- 	ransport: 交通
- ccommodation: 住宿
- ood: 餐飲
- 	icket: 門票
- other: 其他

---

## 3. 類別設計

### 3.1 前端 Vue 組件

#### 3.1.1 NavBar 組件

**路徑**: rontend/src/components/NavBar.vue

**用途**: 導航列組件

**Props**: 無

**Data**:
- user: 當前使用者資訊
- unreadCount: 未讀訊息數量

**Methods**:
- logout(): 登出
- goToPage(route): 導航到指定頁面

---

#### 3.1.2 ActivityCard 組件

**路徑**: rontend/src/components/ActivityCard.vue

**用途**: 活動卡片組件

**Props**:
- ctivity: Object - 活動資料

**Emits**:
- click: 點擊卡片事件

**Template**:
\\\ue
<el-card class="activity-card" @click="handleClick">
  <img :src="activity.cover_image" />
  <h3>{{ activity.title }}</h3>
  <p>{{ activity.location }}</p>
  <el-tag>{{ activity.category }}</el-tag>
</el-card>
\\\

---

### 3.2 後端 Service 類別

#### 3.2.1 MatchService

**路徑**: ackend/services/match_service.py

**用途**: 媒合相關業務邏輯

**Methods**:

\\\python
class MatchService:
    @staticmethod
    def create_match(user_a_id, user_b_id, activity_id=None, message=None):
        \"\"\"建立媒合申請\"\"\"
        # 檢查是否已存在
        existing = Match.query.filter(
            Match.user_a == user_a_id,
            Match.user_b == user_b_id
        ).first()
        
        if existing:
            raise ValueError('媒合申請已存在')
        
        match = Match(
            user_a=user_a_id,
            user_b=user_b_id,
            activity_id=activity_id,
            message=message,
            status='pending'
        )
        
        db.session.add(match)
        db.session.commit()
        
        return match
    
    @staticmethod
    def accept_match(match_id, user_id):
        \"\"\"接受媒合\"\"\"
        match = Match.query.get(match_id)
        
        if match.user_b != user_id:
            raise PermissionError('無權限')
        
        match.status = 'accepted'
        match.confirmed_date = datetime.now()
        
        db.session.commit()
        
        return match
    
    @staticmethod
    def get_recommended_matches(user_id, limit=10):
        \"\"\"取得推薦媒合\"\"\"
        user = User.query.get(user_id)
        
        # 簡化版推薦演算法
        candidates = User.query.filter(
            User.user_id != user_id,
            User.is_active == True
        ).all()
        
        # 根據興趣相似度排序
        scored = []
        for candidate in candidates:
            score = calculate_interest_similarity(user, candidate)
            scored.append((candidate, score))
        
        scored.sort(key=lambda x: x[1], reverse=True)
        
        return [c[0] for c in scored[:limit]]
\\\

---

#### 3.2.2 ExpenseService

**路徑**: ackend/services/expense_service.py

**用途**: 費用分攤業務邏輯

**Methods**:

\\\python
class ExpenseService:
    @staticmethod
    def calculate_settlement(activity_id):
        \"\"\"計算費用結算方案\"\"\"
        expenses = Expense.query.filter_by(activity_id=activity_id).all()
        participants = ActivityParticipant.query.filter_by(
            activity_id=activity_id,
            status='approved'
        ).all()
        
        if not participants:
            return []
        
        # 計算每人淨餘額
        balances = {}
        total_cost = sum(e.amount for e in expenses)
        per_person = total_cost / len(participants)
        
        for participant in participants:
            paid = sum(
                e.amount for e in expenses 
                if e.payer_id == participant.user_id
            )
            balances[participant.user_id] = paid - per_person
        
        # 債務優化演算法
        creditors = [(k, v) for k, v in balances.items() if v > 0]
        debtors = [(k, v) for k, v in balances.items() if v < 0]
        
        transactions = []
        while creditors and debtors:
            creditor_id, credit = creditors.pop()
            debtor_id, debt = debtors.pop()
            
            amount = min(credit, abs(debt))
            
            transactions.append({
                'from_user_id': debtor_id,
                'to_user_id': creditor_id,
                'amount': round(amount, 2)
            })
            
            if credit > abs(debt):
                creditors.append((creditor_id, credit - amount))
            elif abs(debt) > credit:
                debtors.append((debtor_id, debt + amount))
        
        return transactions
\\\

---

## 4. 資料庫Schema

### 4.1 完整 SQL Schema

\\\sql
-- 使用者表
CREATE TABLE users (
    user_id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(120) NOT NULL UNIQUE,
    password_hash VARCHAR(255) NOT NULL,
    privacy_setting VARCHAR(20) DEFAULT 'public',
    location VARCHAR(100),
    profile_picture VARCHAR(255),
    bio TEXT,
    gender VARCHAR(10),
    age INT,
    interests TEXT,
    join_date DATETIME DEFAULT CURRENT_TIMESTAMP,
    is_verified BOOLEAN DEFAULT FALSE,
    is_active BOOLEAN DEFAULT TRUE,
    last_seen DATETIME DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_email (email),
    INDEX idx_location (location)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- 活動表
CREATE TABLE activities (
    activity_id INT AUTO_INCREMENT PRIMARY KEY,
    title VARCHAR(200) NOT NULL,
    date DATE,
    start_time VARCHAR(10),
    location VARCHAR(200),
    description TEXT,
    category VARCHAR(50),
    max_participants INT,
    cost DECIMAL(10,2),
    duration_hours INT,
    status VARCHAR(20) DEFAULT 'open',
    cover_image VARCHAR(255),
    images TEXT,
    is_active BOOLEAN DEFAULT TRUE,
    creator_id INT NOT NULL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (creator_id) REFERENCES users(user_id) ON DELETE CASCADE,
    INDEX idx_date (date),
    INDEX idx_location (location),
    INDEX idx_category (category),
    INDEX idx_creator (creator_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- 活動參與者表
CREATE TABLE activity_participants (
    participant_id INT AUTO_INCREMENT PRIMARY KEY,
    activity_id INT NOT NULL,
    user_id INT NOT NULL,
    status VARCHAR(20) DEFAULT 'pending',
    role VARCHAR(20) DEFAULT 'participant',
    joined_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    approved_at DATETIME,
    left_at DATETIME,
    message TEXT,
    rejection_reason TEXT,
    FOREIGN KEY (activity_id) REFERENCES activities(activity_id) ON DELETE CASCADE,
    FOREIGN KEY (user_id) REFERENCES users(user_id) ON DELETE CASCADE,
    UNIQUE KEY uk_activity_user (activity_id, user_id),
    INDEX idx_status (status)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- 活動討論串表
CREATE TABLE activity_discussions (
    discussion_id INT AUTO_INCREMENT PRIMARY KEY,
    activity_id INT NOT NULL,
    user_id INT NOT NULL,
    message TEXT NOT NULL,
    message_type VARCHAR(20) DEFAULT 'text',
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_deleted BOOLEAN DEFAULT FALSE,
    FOREIGN KEY (activity_id) REFERENCES activities(activity_id) ON DELETE CASCADE,
    FOREIGN KEY (user_id) REFERENCES users(user_id) ON DELETE CASCADE,
    INDEX idx_activity (activity_id),
    INDEX idx_created_at (created_at)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- 媒合表
CREATE TABLE matches (
    match_id INT AUTO_INCREMENT PRIMARY KEY,
    activity_id INT,
    user_a INT NOT NULL,
    user_b INT NOT NULL,
    status VARCHAR(20) DEFAULT 'pending',
    message TEXT,
    match_date DATETIME DEFAULT CURRENT_TIMESTAMP,
    confirmed_date DATETIME,
    cancel_date DATETIME,
    FOREIGN KEY (activity_id) REFERENCES activities(activity_id) ON DELETE SET NULL,
    FOREIGN KEY (user_a) REFERENCES users(user_id) ON DELETE CASCADE,
    FOREIGN KEY (user_b) REFERENCES users(user_id) ON DELETE CASCADE,
    INDEX idx_user_a (user_a),
    INDEX idx_user_b (user_b),
    INDEX idx_status (status)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- 聊天訊息表
CREATE TABLE chat_messages (
    message_id INT AUTO_INCREMENT PRIMARY KEY,
    match_id INT NOT NULL,
    sender_id INT NOT NULL,
    content TEXT NOT NULL,
    timestamp DATETIME DEFAULT CURRENT_TIMESTAMP,
    message_type VARCHAR(20) DEFAULT 'text',
    status VARCHAR(20) DEFAULT 'sent',
    FOREIGN KEY (match_id) REFERENCES matches(match_id) ON DELETE CASCADE,
    FOREIGN KEY (sender_id) REFERENCES users(user_id) ON DELETE CASCADE,
    INDEX idx_match (match_id),
    INDEX idx_timestamp (timestamp)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- 費用表
CREATE TABLE expenses (
    expense_id INT AUTO_INCREMENT PRIMARY KEY,
    activity_id INT NOT NULL,
    payer_id INT NOT NULL,
    amount DECIMAL(10,2) NOT NULL,
    category VARCHAR(50),
    expense_date DATE,
    description TEXT,
    paid BOOLEAN DEFAULT FALSE,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (activity_id) REFERENCES activities(activity_id) ON DELETE CASCADE,
    FOREIGN KEY (payer_id) REFERENCES users(user_id) ON DELETE CASCADE,
    INDEX idx_activity (activity_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
\\\

---

## 5. API物件規格

### 5.1 請求/回應物件

#### 5.1.1 使用者相關

**註冊請求**:
\\\json
{
  "name": "張小明",
  "email": "example@email.com",
  "password": "Password123"
}
\\\

**使用者回應**:
\\\json
{
  "user_id": 1,
  "name": "張小明",
  "email": "example@email.com",
  "location": "台灣 - 台北市",
  "bio": "喜歡登山和攝影",
  "interests": ["登山", "攝影", "旅遊"],
  "avatar": "/uploads/avatar_123.jpg",
  "is_verified": false,
  "join_date": "2025-10-14T00:00:00"
}
\\\

---

#### 5.1.2 活動相關

**建立活動請求**:
\\\json
{
  "title": "陽明山登山健行",
  "date": "2025-11-15",
  "start_time": "08:00",
  "location": "台北市 - 陽明山國家公園",
  "description": "一起登山欣賞美景，適合初學者",
  "category": "運動",
  "max_participants": 8,
  "cost": 500,
  "duration_hours": 6
}
\\\

**活動回應**:
\\\json
{
  "activity_id": 1,
  "title": "陽明山登山健行",
  "date": "2025-11-15",
  "location": "台北市 - 陽明山國家公園",
  "category": "運動",
  "status": "open",
  "max_participants": 8,
  "current_participants": 1,
  "creator": {
    "user_id": 1,
    "name": "張小明",
    "avatar": "/uploads/avatar_123.jpg"
  },
  "cover_image": "/uploads/activity_cover_1.jpg",
  "created_at": "2025-10-14T10:30:00"
}
\\\

---

#### 5.1.3 媒合相關

**媒合申請請求**:
\\\json
{
  "responder_id": 2,
  "activity_id": 1,
  "message": "你好！我也對這個活動很有興趣，希望能一起參加。"
}
\\\

**媒合回應**:
\\\json
{
  "match_id": 1,
  "status": "pending",
  "requester": {
    "user_id": 1,
    "name": "張小明",
    "avatar": "/uploads/avatar_123.jpg",
    "interests": ["登山", "攝影"]
  },
  "responder": {
    "user_id": 2,
    "name": "李小美",
    "avatar": "/uploads/avatar_456.jpg",
    "interests": ["登山", "美食"]
  },
  "activity": {
    "activity_id": 1,
    "title": "陽明山登山健行"
  },
  "created_at": "2025-10-14T11:00:00"
}
\\\

---

#### 5.1.4 費用相關

**費用結算回應**:
\\\json
{
  "total_cost": 1500,
  "per_person": 300,
  "transactions": [
    {
      "from_user": {
        "user_id": 2,
        "name": "李小美"
      },
      "to_user": {
        "user_id": 1,
        "name": "張小明"
      },
      "amount": 150
    },
    {
      "from_user": {
        "user_id": 3,
        "name": "王小華"
      },
      "to_user": {
        "user_id": 1,
        "name": "張小明"
      },
      "amount": 200
    }
  ],
  "summary": "共 2 筆交易需處理"
}
\\\

---

## 附錄 A: 資料驗證規則

### A.1 使用者資料

- **name**: 2-50 字元
- **email**: 有效的 Email 格式
- **password**: 最少 8 字元,需包含英文和數字
- **age**: 18-100
- **interests**: 陣列,每個元素最多 20 字元

### A.2 活動資料

- **title**: 5-100 字元
- **date**: 未來日期
- **location**: 非空字串
- **description**: 最少 20 字元
- **max_participants**: 2-50
- **cost**: >= 0

### A.3 訊息資料

- **content**: 1-1000 字元
- **message**(媒合申請): 最多 200 字元

---

## 附錄 B: 錯誤碼定義

| 錯誤碼 | 說明 | HTTP Status |
|-------|------|-------------|
| AUTH_001 | 認證失敗 | 401 |
| AUTH_002 | Token 無效 | 401 |
| AUTH_003 | Token 過期 | 401 |
| VAL_001 | 驗證錯誤 | 400 |
| PERM_001 | 權限不足 | 403 |
| NOT_FOUND | 資源不存在 | 404 |
| CONFLICT | 資源衝突 | 409 |
| SERVER_ERROR | 伺服器錯誤 | 500 |

---

## 附錄 C: 變更歷史

| 版本 | 日期 | 作者 | 變更內容 |
|------|------|------|----------|
| 1.0 | 2025-10-14 | 開發團隊 | 初始版本 |

---

**文件結束**
